import{r as u,j as n,a as x,M as l,u as h,b as p}from"./index-CeHDtGxL.js";const y=({count:o=2e3,gyro:a})=>{const t=u.useRef(null),{mouse:e}=h(),i=u.useMemo(()=>{const s=new Float32Array(o*3),c=new Float32Array(o);for(let r=0;r<o;r++){const m=(Math.random()-.5)*20,d=(Math.random()-.5)*20,f=(Math.random()-.5)*10;s[r*3]=m,s[r*3+1]=d,s[r*3+2]=f,c[r]=Math.random()}return{positions:s,sizes:c}},[o]);return p(s=>{if(!t.current)return;t.current.rotation.x+=5e-4,t.current.rotation.y+=5e-4;const c=e.x*.5,r=e.y*.5,m=c+a.y*1.5,d=r+a.x*1.5;t.current.rotation.x+=(d-t.current.rotation.x)*.05,t.current.rotation.y+=(m-t.current.rotation.y)*.05}),n.jsxs("points",{ref:t,children:[n.jsx("bufferGeometry",{children:n.jsx("bufferAttribute",{attach:"attributes-position",count:i.positions.length/3,array:i.positions,itemSize:3})}),n.jsx("pointsMaterial",{size:.02,color:"#ffffff",transparent:!0,opacity:.6,sizeAttenuation:!0})]})},j=()=>{const[o,a]=u.useState({x:0,y:0});return u.useEffect(()=>{const t=e=>{const i=e.beta?Math.min(Math.max(e.beta,-45),45)/45:0,s=e.gamma?Math.min(Math.max(e.gamma,-45),45)/45:0;a({x:i,y:s})};return typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&window.addEventListener("deviceorientation",t)}).catch(console.error):window.addEventListener("deviceorientation",t),()=>{window.removeEventListener("deviceorientation",t)}},[]),n.jsx("div",{className:"absolute inset-0 z-0 bg-[#0a0a0c]",children:n.jsxs(x,{camera:{position:[0,0,5],fov:60},children:[n.jsx("ambientLight",{intensity:.1}),n.jsx(l,{}),n.jsx(y,{gyro:o})]})})};export{j as default};
