import{c as h,r as a,j as e,A as j,m as b}from"./index-CeHDtGxL.js";import{X as p}from"./x-CM3ygsDp.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=h("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=h("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),T=({isOpen:n,onClose:c})=>{const[d,u]=a.useState([]),[m,x]=a.useState(!0),[w,o]=a.useState(!1),r=a.useRef(null),l=async()=>{x(!0);try{const f=(await(await fetch("https://hacker-news.firebaseio.com/v0/topstories.json?limit=10")).json()).slice(0,8).map(s=>fetch(`https://hacker-news.firebaseio.com/v0/item/${s}.json`).then(g=>g.json())),v=(await Promise.all(f)).map(s=>({id:s.id,title:s.title,url:s.url||`https://news.ycombinator.com/item?id=${s.id}`,source:s.url?new URL(s.url).hostname.replace("www.",""):"news.ycombinator.com",time:new Date(s.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));u(v)}catch(t){console.error("Failed to fetch news",t)}finally{x(!1)}},i=()=>{n&&(o(!1),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{o(!0)},12e3))};return a.useEffect(()=>{if(n){l(),i(),window.addEventListener("mousemove",i),window.addEventListener("click",i),window.addEventListener("scroll",i);const t=setInterval(l,6e4);return()=>{clearInterval(t),r.current&&clearTimeout(r.current),window.removeEventListener("mousemove",i),window.removeEventListener("click",i),window.removeEventListener("scroll",i)}}},[n]),e.jsx(j,{children:n&&e.jsx(b.div,{initial:{y:"100%",opacity:1},animate:{y:0,opacity:w?.3:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,opacity:{duration:.8}},onHoverStart:()=>{o(!1),r.current&&clearTimeout(r.current)},onHoverEnd:i,className:"fixed bottom-0 left-0 w-full bg-[#16161a] border-t border-white/10 z-40 shadow-2xl transition-opacity duration-700",children:e.jsxs("div",{className:"container mx-auto max-w-7xl flex flex-col md:flex-row",children:[e.jsxs("div",{className:"p-6 md:w-64 bg-black/20 border-b md:border-b-0 md:border-r border-white/10 flex justify-between items-center group cursor-pointer",onClick:l,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 mb-1",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-[10px] uppercase tracking-widest font-mono flex items-center gap-2",children:m?"UPDATING...":"LIVE FEED"})]}),e.jsx("h3",{className:"text-lg font-serif text-white tracking-wide",children:"GLOBAL SIGNALS"})]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),c()},className:"md:hidden text-white/30 p-2 active:text-white",children:e.jsx(p,{size:20})})]}),e.jsx("div",{className:"flex-grow p-6 overflow-x-auto md:overflow-visible custom-scrollbar",children:m&&d.length===0?e.jsxs("div",{className:"flex items-center gap-4 text-white/20 font-mono text-xs uppercase tracking-widest animate-pulse",children:[e.jsx(y,{className:"animate-spin"})," Fetching Signals..."]}):e.jsx("div",{className:"flex md:flex-row flex-col gap-6 md:gap-12 min-w-max md:min-w-0",children:d.map(t=>e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"w-[280px] flex-shrink-0 group block",children:[e.jsxs("div",{className:"flex justify-between items-center text-[9px] text-white/20 font-mono uppercase tracking-widest mb-2 group-hover:text-emerald-500/50 transition-colors",children:[e.jsx("span",{className:"truncate max-w-[150px]",children:t.source}),e.jsx("span",{children:t.time})]}),e.jsx("p",{className:"text-gray-300 text-sm leading-snug group-hover:text-white transition-colors line-clamp-2",children:t.title}),e.jsxs("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] text-emerald-500 uppercase tracking-wider flex items-center gap-1",children:["Read Source ",e.jsx(k,{size:10})]})]},t.id))})}),e.jsx("div",{className:"hidden md:flex items-center px-6 border-l border-white/10 bg-black/20",children:e.jsx("button",{onClick:c,className:"text-white/30 hover:text-white transition-colors",children:e.jsx(p,{size:24})})})]})})})};export{T as default};
